---
import Footer from "../../components/Footer.astro";
import MemberCard from "../../components/MemberCard.astro";
import MemberCardTabs from "../../components/MemberCardTabs.svelte";
import Navbar from "../../components/Navbar.astro";
import Layout from "../../layouts/Layout.astro";
import members from "../../data/members.json";
import alumni from "../../data/alumni.json";
---

<Layout title="CRUx BPHC - Members">
  <main id="main" class="relative bg-background pb-28">
    <Navbar />
    <div class="flex w-full flex-col items-center lg:pt-12 xl:pt-16">
      <MemberCardTabs client:visible>
        {
          members
            .sort(
              (a, b) =>
                parseInt(b.highlightedBadges[0] ?? "0") -
                parseInt(a.highlightedBadges[0] ?? "0"),
            )
            .map((member) => (
              <MemberCard
                href={`/members/${member.username}`}
                name={member.name}
                title={member.title}
                highlightedBadges={member.highlightedBadges}
                badges={member.badges}
                imageURL={member.avatar}
                slot="members"
              />
            ))
        }
        {
          alumni
            .sort(
              (a, b) =>
                parseInt(b.highlightedBadges[0] ?? "0") -
                parseInt(a.highlightedBadges[0] ?? "0"),
            )
            .map((alumnus) => (
              <MemberCard
                href={`/members/${alumnus.username}`}
                name={alumnus.name}
                title={alumnus.title}
                highlightedBadges={alumnus.highlightedBadges}
                badges={alumnus.badges}
                imageURL={alumnus.avatar}
                slot="alumni"
              />
            ))
        }
      </MemberCardTabs>
    </div>
    <Footer />
  </main>
</Layout>
